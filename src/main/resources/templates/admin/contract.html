<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/html">
<head>
    <title>–î–æ–≥–æ–≤–æ—Ä</title>
    <div th:insert="~{fragments/navbar :: head}"></div>
</head>
<body class="app">

<div th:insert="~{fragments/navbar :: navbar}"> </div>

<div class="app-wrapper">

    <div class="card mb-4">
        <form action="/admin/contract" th:object="${contract}" method="POST">
        <table class="table app-table-hover text-center">
            <thead>
            <tr>
                <th>Id –ü–æ–º–µ—â–µ–Ω–∏—è</th>
                <th>Id –Æ–∑–µ—Ä–∞</th>
                <th>–°–∫–∏–¥–∫–∞</th>
                <th>–ù–∞—á–∞–ª–æ</th>
                <th>–ö–æ–Ω–µ—Ü</th>
                <th>–ê–∫—Ç–∏–≤–Ω—ã–π</th>
            </tr>
            </thead>
            <tbody>
            <td><input th:field="*{premise.id}" type="number" class="form-control" placeholder="ID –ü–æ–º–µ—â–µ–Ω–∏—è" required="required"></td>
            <td><input th:field="*{user.id}" type="number" class="form-control" placeholder="ID –Æ–∑–µ—Ä–∞" required="required"></td>
            <td><input th:field="*{discount}" type="number" class="form-control" placeholder="–°–∫–∏–¥–∫–∞" required="required"></td>
            <td><input th:field="*{startDate}" type="date" class="form-control" placeholder="–ù–∞—á–∞–ª–æ" required="required"></td>
            <td><input th:field="*{endDate}" type="date" class="form-control" placeholder="–ö–æ–Ω–µ—Ü" required="required"></td>
            <td>
                <select th:field="*{isActive}" class="form-select">
                    <option value="1">–î–∞</option>
                    <option value="0">–ù–µ—Ç</option>
                </select>
            </td>
            </tbody>
        </table>
        <button class="btn app-btn-primary w-100 theme-btn mx-auto" type="submit">–î–æ–±–∞–≤–∏—Ç—å</button>
        </form>

        <div class="alert alert-danger mt-3 text-center" th:if="${message}" th:utext="${message}">
            –ù–µ —É–¥–∞–ª–æ—Å—å –¥–æ–±–∞–≤–∏—Ç—å
        </div>

        <div class="alert alert-success mt-3 text-center" th:if="${smessage}" th:utext="${smessage}">
            –£–¥–∞–ª–æ—Å—å –¥–æ–±–∞–≤–∏—Ç—å
        </div>

        <div th:if="${edit}">
        <form action="/admin/contract" th:object="${edit}" th:method="PATCH">
            <input type="hidden" th:field="*{id}" th:value="${edit.id}">
            <table class="table app-table-hover text-center">
                <thead>
                <tr>
                    <th>Id –ü–æ–º–µ—â–µ–Ω–∏—è</th>
                    <th>Id –Æ–∑–µ—Ä–∞</th>
                    <th>–°–∫–∏–¥–∫–∞</th>
                    <th>–ù–∞—á–∞–ª–æ</th>
                    <th>–ö–æ–Ω–µ—Ü</th>
                    <th>–ê–∫—Ç–∏–≤–Ω—ã–π</th>
                </tr>
                </thead>
                <tbody>
                <td><input th:field="*{premise.id}" type="number" class="form-control" placeholder="ID –ü–æ–º–µ—â–µ–Ω–∏—è" required="required"></td>
                <td><input th:field="*{user.id}" type="number" class="form-control" placeholder="ID –Æ–∑–µ—Ä–∞" required="required"></td>
                <td><input th:field="*{discount}" type="number" class="form-control" placeholder="–°–∫–∏–¥–∫–∞" required="required"></td>
                <td><input th:field="*{startDate}" type="date" class="form-control" placeholder="–ù–∞—á–∞–ª–æ" required="required"></td>
                <td><input th:field="*{endDate}" type="date" class="form-control" placeholder="–ö–æ–Ω–µ—Ü" required="required"></td>
                <td>
                    <select th:field="*{isActive}" class="form-select">
                        <option value="1">–î–∞</option>
                        <option value="0">–ù–µ—Ç</option>
                    </select>
                </td>
                </tbody>
            </table>
            <button class="btn btn-secondary w-100 theme-btn mx-auto" type="submit">–ò–∑–º–µ–Ω–∏—Ç—å</button>
        </form>
        </div>

        <table  id="datatablesSimple" class="table app-table-hover text-center">
            <thead>
            <tr>
                <th>–ù–æ–º–µ—Ä –î–æ–≥–æ–≤–æ—Ä–∞</th>
                <th>Id –ü–æ–º–µ—â–µ–Ω–∏—è</th>
                <th>Id –Æ–∑–µ—Ä–∞</th>
                <th>–°–∫–∏–¥–∫–∞</th>
                <th>–ù–∞—á–∞–ª–æ</th>
                <th>–ö–æ–Ω–µ—Ü</th>
                <th>–ê–∫—Ç–∏–≤–Ω—ã–π</th>
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="item : ${contracts}">
                <td th:text="${item.id}">1</td>
                <td th:text="${item.premise.id}">1</td>
                <td th:text="${item.user.id}">1</td>
                <td th:text="${item.discount}">–£ –¥–≤–µ—Ä–µ–π</td>
                <td th:text="${item.startDate}">1</td>
                <td th:text="${item.endDate}">1</td>
                <td th:text="${item.isActive} ? '–î–∞' : '–ù–µ—Ç'"></td>
                <td class="d-flex justify-content-center">
                    <form th:action="'/admin/contract/' + ${item.id}" th:method="GET"><button type="submit" class="btn">‚úé</button></form>
                    <form th:action="'/admin/contract/' + ${item.id}" th:method="DELETE"><button type="submit" class="btn">üóë</button></form>
                </td>
            </tr>
            </tbody>
        </table>

    </div>

</div>

<div th:insert="~{fragments/navbar :: footer}"></div>

</body>
</html>